<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ù…Ù‡Ø§Ù… â€” Ø¨Ø³Ù…Ù„Ø©</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0f172a; 
      --card:#101828;
      --accent1:#8b5cf6;
      --accent2:#06b6d4;
      --accent3:#facc15;
      --glass:rgba(255,255,255,0.05);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:'Tajawal',sans-serif;
      background:linear-gradient(180deg,var(--bg),#071029 70%);
      color:#e6eef8;
      display:flex;align-items:center;justify-content:center;
      min-height:100vh;padding:24px;position:relative;
      overflow:hidden;
    }
    .container{
      max-width:720px;width:100%;
      background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));
      border-radius:20px;
      padding:32px;
      box-shadow:0 12px 35px rgba(0,0,0,0.6);
      border:1px solid rgba(255,255,255,0.08);
      position:relative;
      z-index:2;
    }
    header{text-align:center;margin-bottom:20px}
    h1{
      margin:0;
      font-size:30px;
      font-weight:800;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    h1 span{
      color:var(--accent3);
      font-size:34px;
      text-shadow:0 0 10px rgba(250,204,21,0.6);
    }
    p.lead{opacity:0.85;margin-top:8px;font-size:16px}

    .input-row{display:flex;gap:10px;margin-top:20px}
    input{
      flex:1;padding:12px 14px;border-radius:12px;
      border:1px solid rgba(255,255,255,0.1);
      background:var(--card);color:#fff;font-size:15px;
    }
    input:focus{outline:none;border-color:var(--accent2)}

    .btn{
      padding:12px 18px;border-radius:14px;border:none;cursor:pointer;
      font-weight:700;font-size:15px;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      color:white;
      transition:transform .15s ease, box-shadow .15s ease;
      box-shadow:0 6px 15px rgba(0,0,0,0.5);
      position:relative;overflow:hidden;
    }
    .btn:active{transform:scale(0.96)}
    .btn.secondary{
      background:transparent;
      border:1px solid var(--accent2);
      color:var(--accent2);
      box-shadow:none;
    }
    .task-row{
      display:flex;gap:12px;align-items:center;
      margin-top:14px;justify-content:space-between;
      opacity:0;transform:translateY(20px);
      animation:fadeInUp 0.5s forwards;
    }
    @keyframes fadeInUp{
      to{opacity:1;transform:translateY(0)}
    }
    .task-btn{
      flex:1;
      padding:12px 18px;
      border-radius:14px;
      border:none;
      font-weight:700;
      font-size:15px;
      color:#fff;
      cursor:pointer;
      transition:transform .15s ease;
    }
    .task-btn.done{opacity:0.75;text-decoration:line-through}
    .delete-btn{
      background:transparent;
      border:none;
      cursor:pointer;
      font-size:18px;
      color:#f87171;
      transition:transform .15s ease;
    }
    .delete-btn:hover{transform:scale(1.2)}

    .progress-container{
      margin-top:20px;background:var(--glass);
      border-radius:12px;overflow:hidden;height:20px;position:relative;
    }
    .progress-bar{
      height:100%;width:0%;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      transition:width 0.4s ease;
    }
    .progress-text{
      position:absolute;top:0;left:50%;transform:translateX(-50%);
      font-size:13px;font-weight:700;color:#fff;
    }

    .pulse{animation:pulse 0.6s ease;}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.12)}100%{transform:scale(1)}}

    /* Ø§ÙŠÙ…ÙˆØ¬ÙŠ Ù…ØªØ·Ø§ÙŠØ± */
    .flying-emoji{
      position:absolute;
      font-size:28px;
      bottom:20px;
      left:50%;
      transform:translateX(-50%);
      animation:flyUp 2.5s ease forwards;
      z-index:1;
      pointer-events:none;
    }
    .flying-emoji.left{animation:flyUpLeft 2.5s ease forwards;}
    .flying-emoji.center{animation:flyUp 2.5s ease forwards;}
    .flying-emoji.right{animation:flyUpRight 2.5s ease forwards;}

    @keyframes flyUp{
      0%{opacity:1;transform:translateX(-50%) translateY(0) scale(1);}
      100%{opacity:0;transform:translateX(-50%) translateY(-200px) scale(1.5);}
    }
    @keyframes flyUpLeft{
      0%{opacity:1;transform:translateX(-50%) translateY(0) rotate(-10deg);}
      100%{opacity:0;transform:translateX(-120%) translateY(-200px) rotate(-25deg);}
    }
    @keyframes flyUpRight{
      0%{opacity:1;transform:translateX(-50%) translateY(0) rotate(10deg);}
      100%{opacity:0;transform:translateX(20%) translateY(-200px) rotate(25deg);}
    }

    footer{margin-top:25px;text-align:center;color:rgba(230,238,248,0.6);font-size:13px}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Ù‚Ø§Ø¦Ù…Ø© Ù…Ù‡Ø§Ù… <span>Ø¨Ø³Ù…Ù„Ø©</span> âœ¨</h1>
      <p class="lead">ÙŠÙ„Ø§ ÙŠØ§ Ø¨Ø³Ù…Ù„Ø© ğŸ’ª Ø±ÙƒØ²ÙŠ ÙˆØ®Ù„ÙŠ ÙŠÙˆÙ…Ùƒ Ù…Ù„ÙŠØ§Ù† Ø¥Ù†Ø¬Ø§Ø²Ø§Øª ØµØºÙŠØ±Ø© ØªÙˆØµÙ„ Ù„Ø£Ù‡Ø¯Ø§Ù ÙƒØ¨ÙŠØ±Ø©.</p>
    </header>

    <div class="input-row">
      <input id="taskInput" type="text" placeholder="Ø§ÙƒØªØ¨ÙŠ Ù…Ù‡Ù…ØªÙƒ Ù‡Ù†Ø§..." />
      <button id="addTask" class="btn">â• Ø¥Ø¶Ø§ÙØ©</button>
    </div>

    <div class="progress-container">
      <div id="progressBar" class="progress-bar"></div>
      <div id="progressText" class="progress-text">0%</div>
    </div>

    <div id="tasks"></div>

    <button id="clearTasks" class="btn secondary" style="margin-top:18px">ğŸ—‘ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù…</button>

    <footer>Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù†Ø´Ø± &copy; ABDO_HMADA</footer>
  </div>

  <audio id="successSound" src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3"></audio>

  <script>
    const taskInput=document.getElementById("taskInput");
    const addTaskBtn=document.getElementById("addTask");
    const tasksDiv=document.getElementById("tasks");
    const clearBtn=document.getElementById("clearTasks");
    const progressBar=document.getElementById("progressBar");
    const progressText=document.getElementById("progressText");
    const successSound=document.getElementById("successSound");

    const gradients=[
      "linear-gradient(90deg,#8b5cf6,#06b6d4)",
      "linear-gradient(90deg,#06b6d4,#10b981)",
      "linear-gradient(90deg,#facc15,#f97316)",
      "linear-gradient(90deg,#ec4899,#8b5cf6)",
      "linear-gradient(90deg,#3b82f6,#06b6d4)"
    ];

    function loadTasks(){
      tasksDiv.innerHTML="";
      const tasks=JSON.parse(localStorage.getItem("dailyTasks")||"[]");
      tasks.forEach((t,i)=>renderTask(t.text,t.done,i));
      updateProgress();
    }

    function renderTask(text,done,index){
      const row=document.createElement("div");
      row.className="task-row";

      const btn=document.createElement("button");
      btn.className="task-btn"+(done?" done":"");
      btn.textContent=text;
      btn.style.background=gradients[index%gradients.length];
      btn.onclick=()=>{toggleTask(index,btn);};

      const del=document.createElement("button");
      del.className="delete-btn";
      del.innerHTML="ğŸ—‘";
      del.onclick=()=>deleteTask(index);

      row.appendChild(btn);
      row.appendChild(del);
      tasksDiv.appendChild(row);
    }

    function addTask(text){
      if(!text.trim()) return;
      const tasks=JSON.parse(localStorage.getItem("dailyTasks")||"[]");
      tasks.push({text,done:false});
      localStorage.setItem("dailyTasks",JSON.stringify(tasks));
      loadTasks();

      // Ø§ÙŠÙ…ÙˆØ¬ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙØ©
      spawnEmoji(["ğŸ“","ğŸš€"]);
    }

    function toggleTask(index,btn){
      const tasks=JSON.parse(localStorage.getItem("dailyTasks")||"[]");
      tasks[index].done=!tasks[index].done;
      localStorage.setItem("dailyTasks",JSON.stringify(tasks));
      loadTasks();

      // Ù…Ø¤Ø«Ø±Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²
      successSound.currentTime=0;
      successSound.play();
      btn.classList.add("pulse");
      setTimeout(()=>btn.classList.remove("pulse"),600);

      spawnEmoji(["âœ¨","ğŸ‰","âœ¨"]);
    }

    function deleteTask(index){
      const tasks=JSON.parse(localStorage.getItem("dailyTasks")||"[]");
      tasks.splice(index,1);
      localStorage.setItem("dailyTasks",JSON.stringify(tasks));
      loadTasks();
    }

    function clearTasks(){
      localStorage.removeItem("dailyTasks");
      loadTasks();
    }

    function updateProgress(){
      const tasks=JSON.parse(localStorage.getItem("dailyTasks")||"[]");
      if(tasks.length===0){progressBar.style.width="0%";progressText.textContent="0%";return;}
      const doneCount=tasks.filter(t=>t.done).length;
      const percent=Math.round((doneCount/tasks.length)*100);
      progressBar.style.width=percent+"%";
      progressText.textContent=percent+"%";
    }

    function spawnEmoji(list){
      const positions=["left","center","right"];
      list.forEach((emoji,i)=>{
        const span=document.createElement("span");
        span.className="flying-emoji "+positions[i%positions.length];
        span.textContent=emoji;
        document.body.appendChild(span);
        setTimeout(()=>span.remove(),2500);
      });
    }

    addTaskBtn.onclick=()=>{addTask(taskInput.value);taskInput.value="";};
    clearBtn.onclick=clearTasks;

    loadTasks();
  </script>
</body>
</html>